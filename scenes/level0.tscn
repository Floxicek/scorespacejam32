[gd_scene load_steps=20 format=3 uid="uid://rdb1q2dg2hvg"]

[ext_resource type="PackedScene" uid="uid://byg0w6qpm26fq" path="res://scenes/flag.tscn" id="2_012ry"]
[ext_resource type="PackedScene" uid="uid://dmub85j6lafvu" path="res://scenes/platform_mid.tscn" id="2_jbg5r"]
[ext_resource type="PhysicsMaterial" uid="uid://dp7yo0dajty72" path="res://assets/platform_physics_material.tres" id="3_dh7kv"]
[ext_resource type="Script" path="res://scripts/camera_controller.gd" id="4_b42me"]
[ext_resource type="PackedScene" uid="uid://be7wo2vsdx6t2" path="res://scenes/sand_platform_long.tscn" id="4_uem45"]
[ext_resource type="PackedScene" uid="uid://c3bptrg06rcus" path="res://scenes/platform_small_high.tscn" id="5_mlbpd"]
[ext_resource type="PhysicsMaterial" uid="uid://d2mq347lug1e7" path="res://assets/player_physics_material.tres" id="5_u7548"]
[ext_resource type="PackedScene" uid="uid://wbqynctxehg1" path="res://scenes/sand_platform_mid.tscn" id="6_0gqsl"]
[ext_resource type="Script" path="res://scripts/player.gd" id="6_1w0bi"]
[ext_resource type="Texture2D" uid="uid://858caggshc0b" path="res://assets/ball.png" id="7_lvgku"]
[ext_resource type="PackedScene" uid="uid://u3b12rjivl4h" path="res://scenes/platform_long.tscn" id="7_svmhg"]
[ext_resource type="Script" path="res://scripts/ui.gd" id="8_b4tvn"]
[ext_resource type="FontFile" uid="uid://bxibr3cgsdhaa" path="res://assets/fonts/Fredoka-Light.ttf" id="9_a006x"]
[ext_resource type="Script" path="res://scripts/safety_net.gd" id="10_0tkm2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1rt6v"]
size = Vector2(9997, 111)

[sub_resource type="CircleShape2D" id="CircleShape2D_4hfhv"]
radius = 8.0

[sub_resource type="Curve" id="Curve_umwhh"]
_data = [Vector2(0.0114613, 1), 0.0, 0.0, 0, 0, Vector2(0.856733, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Gradient" id="Gradient_akhae"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_6517x"]
distance = -70.0

[node name="Map" type="Node2D"]

[node name="Environment" type="Node2D" parent="."]

[node name="Ground" type="StaticBody2D" parent="Environment" groups=["Platform"]]
collision_layer = 3
physics_material_override = ExtResource("3_dh7kv")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/Ground"]
position = Vector2(0.5, 45.5)
shape = SubResource("RectangleShape2D_1rt6v")

[node name="GroundBack" type="Polygon2D" parent="Environment/Ground"]
self_modulate = Color(0.278431, 0.278431, 0.278431, 1)
position = Vector2(0, 79)
polygon = PackedVector2Array(-5000, -100, 5000, -100, 5000, 0, -5000, 0)

[node name="Ground" type="Polygon2D" parent="Environment/Ground"]
self_modulate = Color(0.215686, 0.219608, 0.215686, 1)
position = Vector2(0, 102)
polygon = PackedVector2Array(-5000, -100, 5000, -100, 5000, 0, -5000, 0)

[node name="PlatformMid" parent="Environment" instance=ExtResource("2_jbg5r")]
position = Vector2(-736, -1568)

[node name="Flag" parent="Environment/PlatformMid" instance=ExtResource("2_012ry")]
position = Vector2(64, -64)

[node name="SandPlatformLong" parent="Environment" instance=ExtResource("4_uem45")]
position = Vector2(448, -288)

[node name="PlatformSmallHigh" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -64)
collision_layer = 1

[node name="PlatformSmallHigh3" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -192)
collision_layer = 1

[node name="PlatformSmallHigh4" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -320)
collision_layer = 1

[node name="PlatformSmallHigh5" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -448)
collision_layer = 1

[node name="PlatformSmallHigh6" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -576)
collision_layer = 1

[node name="PlatformSmallHigh7" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -704)
collision_layer = 1

[node name="PlatformSmallHigh2" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -832)
collision_layer = 1

[node name="PlatformSmallHigh8" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -960)
collision_layer = 1

[node name="PlatformSmallHigh9" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1088)
collision_layer = 1

[node name="PlatformSmallHigh10" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1216)
collision_layer = 1

[node name="PlatformSmallHigh11" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1344)
collision_layer = 1

[node name="PlatformSmallHigh12" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1472)
collision_layer = 1

[node name="PlatformSmallHigh13" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1600)
collision_layer = 1

[node name="PlatformSmallHigh14" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1728)
collision_layer = 1

[node name="PlatformSmallHigh15" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1856)
collision_layer = 1

[node name="PlatformSmallHigh16" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -1984)
collision_layer = 1

[node name="PlatformSmallHigh17" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -2112)
collision_layer = 1

[node name="PlatformSmallHigh18" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -2240)
collision_layer = 1

[node name="PlatformSmallHigh19" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -64)
collision_layer = 1

[node name="PlatformSmallHigh20" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -192)
collision_layer = 1

[node name="PlatformSmallHigh21" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -320)
collision_layer = 1

[node name="PlatformSmallHigh22" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -448)
collision_layer = 1

[node name="PlatformSmallHigh23" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -576)
collision_layer = 1

[node name="PlatformSmallHigh24" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -704)
collision_layer = 1

[node name="PlatformSmallHigh25" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -832)
collision_layer = 1

[node name="PlatformSmallHigh26" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -960)
collision_layer = 1

[node name="PlatformSmallHigh27" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1088)
collision_layer = 1

[node name="PlatformSmallHigh28" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1216)
collision_layer = 1

[node name="PlatformSmallHigh29" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1344)
collision_layer = 1

[node name="PlatformSmallHigh30" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1472)
collision_layer = 1

[node name="PlatformSmallHigh31" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1600)
collision_layer = 1

[node name="PlatformSmallHigh32" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1728)
collision_layer = 1

[node name="PlatformSmallHigh33" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1856)
collision_layer = 1

[node name="PlatformSmallHigh34" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -1984)
collision_layer = 1

[node name="PlatformSmallHigh35" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -2112)
collision_layer = 1

[node name="PlatformSmallHigh36" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -2240)
collision_layer = 1

[node name="PlatformSmallHigh37" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -2368)
collision_layer = 1

[node name="PlatformSmallHigh38" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -2496)
collision_layer = 1

[node name="PlatformSmallHigh39" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(-960, -2624)
collision_layer = 1

[node name="PlatformSmallHigh40" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -2368)
collision_layer = 1

[node name="PlatformSmallHigh41" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -2496)
collision_layer = 1

[node name="PlatformSmallHigh42" parent="Environment" instance=ExtResource("5_mlbpd")]
position = Vector2(960, -2624)
collision_layer = 1

[node name="SandPlatformMid" parent="Environment" instance=ExtResource("6_0gqsl")]
position = Vector2(-256, -672)

[node name="PlatformLong" parent="Environment" instance=ExtResource("7_svmhg")]
position = Vector2(224, -1248)

[node name="Player" type="Node2D" parent="."]
position = Vector2(0, -288)
metadata/_edit_group_ = true

[node name="Camera2D" type="Camera2D" parent="Player" node_paths=PackedStringArray("player")]
process_callback = 0
script = ExtResource("4_b42me")
zoom_min = 0.4
player = NodePath("../PlayerRigid/PlayerSprite")
ignore_height = -200
height_offset = 200

[node name="PlayerRigid" type="RigidBody2D" parent="Player" groups=["Player"]]
z_index = 7
physics_material_override = ExtResource("5_u7548")
gravity_scale = 1.5
max_contacts_reported = 2
angular_damp = 5.0
script = ExtResource("6_1w0bi")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/PlayerRigid"]
shape = SubResource("CircleShape2D_4hfhv")

[node name="PlayerSprite" type="Sprite2D" parent="Player/PlayerRigid"]
z_index = 10
scale = Vector2(0.3, 0.3)
texture = ExtResource("7_lvgku")

[node name="ProgressBar" type="TextureProgressBar" parent="Player/PlayerRigid"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -16.0
offset_top = -16.0
offset_right = 48.0
offset_bottom = 48.0
grow_horizontal = 2
grow_vertical = 2
rotation = -0.438078
scale = Vector2(0.5, 0.5)
pivot_offset = Vector2(16, 16)
size_flags_horizontal = 6
size_flags_vertical = 6
fill_mode = 4
texture_progress = ExtResource("7_lvgku")
texture_progress_offset = Vector2(-16, -16)

[node name="Arrow" type="Line2D" parent="Player/PlayerRigid"]
scale = Vector2(4, 28)
points = PackedVector2Array(0, -1, 0, -3, 0, -4)
width = 2.509
width_curve = SubResource("Curve_umwhh")
gradient = SubResource("Gradient_akhae")
joint_mode = 1
antialiased = true

[node name="UI" type="CanvasLayer" parent="."]
unique_name_in_owner = true
script = ExtResource("8_b4tvn")

[node name="StrokeCount" type="Label" parent="UI"]
anchors_preset = 10
anchor_right = 1.0
offset_top = 48.0
offset_bottom = 184.0
grow_horizontal = 2
theme_override_colors/font_color = Color(0.215686, 0.219608, 0.215686, 1)
theme_override_fonts/font = ExtResource("9_a006x")
theme_override_font_sizes/font_size = 81
text = "1"
horizontal_alignment = 1
metadata/_edit_use_anchors_ = true
metadata/_edit_lock_ = true

[node name="SafetyNet" type="Area2D" parent="."]
position = Vector2(-31, 1765)
script = ExtResource("10_0tkm2")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="SafetyNet"]
shape = SubResource("WorldBoundaryShape2D_6517x")

[connection signal="body_entered" from="Player/PlayerRigid" to="Player/PlayerRigid" method="_on_body_entered"]
[connection signal="body_entered" from="SafetyNet" to="SafetyNet" method="_on_body_entered"]
